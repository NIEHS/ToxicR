#USE_SIMD = 0 NO VECTOR INSTRUCTIONS -DUSE_SIMD=1
#USE_SIMD = 1 USE AVX/AVX2 INSTRUCTIONS
#USE_SIMD = 2 USE AVX2512 INSTRUCTIONS-DUSE_SIMD=1 -DNDEBUG -DEIGEN_NO_DEBUG -DEIGEN_NO_DEBUG
 #-fopenmp
 
DISTRO = $(shell uname)

ifeq ($(DISTRO), Linux)
	PKG_CPPFLAGS =  -I"./include" -I"./code_base"   -ftree-vectorize -Os -march=native
	PKG_CPPFLAGS +=  $(shell pkg-config --cflags nlopt gsl) -DR_COMPILATION -Wno-ignored-attributes  -flto -fopenmp  
        PKG_LIBS     = -lomp  $(shell pkg-config --libs nlopt gsl)
else
	PKG_CPPFLAGS =  -I"./code_base" -I"./include"   -ftree-vectorize -Os  
	PKG_CPPFLAGS +=  -DR_COMPILATION -Wno-ignored-attributes  -DNDEBUG $(shell pkg-config --cflags nlopt gsl) #-fopenmp
        PKG_LIBS     = -Wl, -Bstatic $(shell pkg-config --libs nlopt gsl)
endif 

#MAKEFLAGS = -j4


POLYK        = $(wildcard polyK/*.cpp)
MAIN         = $(wildcard *.cpp)
MAIN_CODE    = $(wildcard code_base/*.cpp)
OBJECTS      = $(MAIN:.cpp=.o) $(MAIN_CODE:.cpp=.o) $(POLYK:.cpp=.o)



